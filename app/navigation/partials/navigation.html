<div ng-controller="navCtrl" class="md-medium-tall nav" flex="none">

    <md-nav-bar md-selected-nav-item="currentNavItem" nav-bar-aria-label="navigation links">

        <md-icon md-svg-src="/images/noun_1067030_cc-navLogo.svg" class="nav__logoIcon"></md-icon>
        
        <span class="nav__appName"><a href="/#!/dashboard" md-colors="{color: 'accent'}"><span class="tallLetter">T</span>RACKd</a></span>

        <md-nav-item ng-if="isAuthenticated()" md-nav-href="/#!/dashboard" name="Dashboard">
            <md-icon class="md-primary" md-font-icon="material-icons">dashboard</md-icon>
            Dashboard
        </md-nav-item>
        
        <md-nav-item ng-if="isAuthenticated()" md-nav-href="/#!/wishlist" name="Wishlist">
            <md-icon md-font-icon="material-icons">list</md-icon>
            Wishlist
        </md-nav-item>
        
        <span flex></span>
        
        
        <span ng-if="isAuthenticated()" flex></span>
        <span flex></span>
        
        <span class="nav__profileName">
            {{ currentUserProfile.firstName || currentUser.email | uppercase}}
        </span>

        <!-- offset value pushes the dropdown menu down to line up with the bottom of navbar -->
        <md-menu ng-if="isAuthenticated()" md-offset="0 69">
            <md-button aria-label="User menu" class="nav__profile" ng-click="$mdOpenMenu($event)">
                <img ng-src="{{currentUserProfile.image}}" class="nav__profileImage" ng-show="currentUserProfile.image" />
                <md-icon ng-show="!currentUserProfile.image" md-font-icon="material-icons" class="nav__defaultProfileImage">account_circle</md-icon>
            </md-button>
                
            <md-menu-content width="2">
                <md-menu-item>
                    <md-button ng-href="/#!/profile">
                        <md-icon md-font-icon="material-icons" md-menu-align-target>account_circle</md-icon> Profile
                    </md-button>
                </md-menu-item>
                <md-menu-item>
                    <md-button ng-click="logout()">
                        <md-icon md-font-icon="material-icons" md-menu-align-target>exit_to_app</md-icon> Logout
                    </md-button>
                </md-menu-item>
            </md-menu-content>
        </md-menu>
    </md-nav-bar>
</div>
